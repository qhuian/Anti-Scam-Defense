name: Update Malware DB

on:
  schedule:
    - cron: '0 * * * *' # Tumatakbo kada oras
  workflow_dispatch: # Para sa manual run

jobs:
  update-db:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      # Dito dapat ang logic mo para mag-update ng JSON file
      - name: Run update script and check changes
        run: |
          # Example: Run your Python/Node script to fetch and update malware_db.json
          # If this script returns exit code 5, the whole workflow fails.
          # Kung wala kang script, dito ang problema.
          echo "Running update..."
          
      - name: Commit changes (Kung may nabago)
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "Auto: Update malware definitions"
          branch: main # O master, depende sa main branch mo
          
